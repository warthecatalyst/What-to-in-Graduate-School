# 秋招报告
记录从2022年找实习开始到2023年秋招的面试题等
## 实习面试
### MSRA——DKI组一面(pass)
英文的自我介绍+简单的数学题
直接做题题目为Leetcode 210课程表2。一道拓扑排序问题。
然后询问后端项目和Deep Java Library的项目。
针对后端项目问了一个拓展性的问题：如何实现后端的扩展性？我的回答：在Dao层可以实现分布式的缓存（分布式redis或者自己实现一个分布式cache），以及需要注意数据的一致性问题。（当然还有很多很多其他的回答）

### MSRA——DKI组二面(pass)
项目+Leetcode207，口头上说pass了但是一直没发offer。最后发现我被其他人截胡了。

### 字节AILab——机器学习系统研发一面(pass)
1、先是问项目，就是Deep Java Library深度学习的项目，然后字节夏令营的二等奖项目，然后问了下有没有分布式的经验，我说有一点，做过简单的GRPC
2、然后就是问八股了，大部分实习生都会问vector和list或者ArrayList和LinkedList这种最基本的问题（这个答不出来就寄了）
3、C++的多态、C++的shared_ptr
4、算法题：二分模板题

### 字节AILab——机器学习系统研发二面(pass)
1、虚拟内存的实现原理
2、cache
3、进程线程的区别
4、题目：给定一个字符串s，一个Set\<Character>，然后说在s中找到最短的substring，包含所有Set\<Character>里面的字符：滑动窗口

### 美团一面(同学)(fail)
1、数据库的四种隔离级别
2、MySql属于何种隔离级别
3、redis和Mysql不一致如何解决
4、MySql主从分布不一致如何解决
5、何时进行分库分表
6、冷数据变热redis如何处理
7、编程题：有序链表去重问题

### 网易伏羲一面——Java后端(fail)
1、自我介绍
2、项目经历（DJL），感觉他不太会深度学习所以就没有深挖
3、JVM的内存分配
4、垃圾回收
5、字节后端的项目
6、Redis（底层结构、哨兵模式与集群模式、集群策略、持久化策略AOF和RDB、容灾），总的来说就是啥都问了
7、Spring的问题（一点不会，就知道一个autowired自动装配），后续问到Bean的生命周期就不了解了
8、Kafka，我说项目中使用了kafka进行异步数据库写入操作，其余的不知道
9、Go语言的select，Goroutine
10、Raft协议的一致性问题解决方案
11、Python的GIL（没听说过）
12、没有代码测试

### 图森未来一面——算法后端平台(Pass)
1、自我介绍(参加了一系列的竞赛与开源项目)
2、项目经历（抖音)，遇到了哪些挑战，怎么解决的
3、MySQL如何解决分布式的主从复制(binlog半同步复制)
4、redis如何实现持久化
5、给定n个任务，每个任务的执行时间都为1小时，但现在由于机械出现了故障，导致所有的任务延后了k个小时执行，costs[i]表示原定于第i个小时执行的任务延后一小时的损失。现在，需要重新规划任务流程，规定现在的执行时间不能早于原定的执行时间。返回最小损失
6、给定一个数组arr，和一个长度k，我们可以将数组分隔为多个长度最大为k的子数组，在完成分隔后，子数组内所有值都会变为子数组中元素的最大值。返回最好的分隔方法下，数组元素之和
7、反问环节（做什么，技术栈，实习时间）

### 腾讯天美工作室RE(成都)(fail)
1、自我介绍(参加了一系列的竞赛与开源项目)
2、你的技术栈很广，你想过以后到底要做什么方向没有（我说偏向后端的开发）
3、抖音项目中遇到的难点(redis操作，读写锁，分析业务场景)
4、你说要把抖音项目拓展为微服务，为什么要拓展为微服务呢？（这确实没想到过会问这个，我从两个方面做了回答，第一是容灾性，第二是性能的提升）
5、乐观锁与悲观锁(忘得一干二净)
6、Go语言中指针逃逸的场景(我只说了作为函数值返回的时候指针逃逸)
7、在浏览器中输入一个网址，这个过程中发生了什么
8、Https中的s是什么（加密），知道它是怎么加密的吗（我说非对称加密），非对称加密的原理知道吗（我只说了有一个公钥一个私钥）
9、二分模板题
10、最后问题：为什么想来这边实习？我说学校的项目太过简单与基础，很难接触到真实的业务场景。

### 阿里云袋鼠团队——云原生架构方向了解面(pass，给我简历推到系统中了，复盘很多东西忘了)
1、自我介绍
2、DJL项目中遇到的问题（整数与浮点数的转换）
3、浮点数在内存中的表示（IEEE表示法）
4、浮点数运算为什么缓慢
5、GPU与CUDA库（略微了解）
6、为什么操作系统不能运行在GPU上
7、假设给你安排一个训练任务，如何去实现CPU与GPU的协同
8、假如说有一台电脑，没有GPU，你在这台电脑中提供了一套CUDA接口，然后接口的底层被你用RPC调用一个对应的有GPU的服务器替代，那么这个时候不会不会遇到什么问题？然后我说了半天什么设备故障问题、网络故障问题，他问我：假如在API中有一段读取内存的接口，那么会遇到什么问题？（机器A的地址跟服务器的地址显然不是同一个地址）。（两种方式：一种方式是把内存数据全部发送过去（但是不现实），另一种就是实现一种地址转换的策略）
9、mmap()函数

### 图森未来——算法后端平台二面(pass)
1、自我介绍
2、DJL项目中遇到的问题
3、你认为DJL与Pytorch、Tensorflow之类的有什么区别？
4、你认为如果要实现一个深度学习框架，有哪些要素是必须要实现的？
5、TensorFlow与Pytorch的底层原理有了解吗？（...）
6、抖音项目有哪些亮点？
7、为什么favorite接口要实现一个多层cache？
8、假如后端服务宕机怎么办，你的redis异步写入与多层cache要怎么复原？
9、为什么现在想要把抖音项目拓展为微服务？（又问？）
10、动态链接与静态链接之间的区别？
11、C++的中用什么管理项目，CMake或者Make，用CMake或者Make管理项目的好处？
12、想要做什么方向？

### 阿里云云原生二面(pass)
1、介绍一下抖音项目（点赞接口拥有特殊的业务场景）
2、项目中如何测试点赞接口的并发量
3、项目中是如何防止缓存击穿、穿透？（方法与措施）
4、假设突然有一个热点视频，如何去处理？
5、如何设计一个秒杀系统？
6、在实际的项目中有没有遇到性能问题？
7、有没有使用过性能监测工具？
8、假设拿到了很多offer，你如何权衡？

### 阿里云云原生应用平台三面(fail)
#### 如何设计一个点赞推送的服务？

在服务器端的service层，创建一个处理推送用户点赞消息的微服务。当点赞微服务被调用时，点赞微服务首先需要将videoId对应的AuthorUserId(视频作者UserId)存放在redis中，然后根据AuthorUserId，发送到一个消息队列中。推送服务从消息队列中获取需要推送的消息，然后可以根据推送的消息中的AuthorUserId发送给对应的用户。推送服务可以通过定时任务或者长连接等方式实现。在抖音的业务需求中，我将用户简单分为两种用户：大V用户和普通用户。

对于大V用户，其收到的点赞消息一定很多（可以在service层维护一个一小时内userId总点赞请求数来判断哪些用户是大V用户，例如大于1000就算是大V用户），对于大V用户，可以定时1小时(可修改的超参数)从消息队列中获取其点赞消息，然后整理成一个对应的大型消息（例如：XXX用户您好，过去一小时内有YYY用户、ZZZ用户等非常喜欢您的视频，快来看看吧），通过调用客户端提供的推送API发送一个消息。

对于普通用户，可以采用建立长连接的方式，用户登录后，推送微服务持续监听用户的连接，并将需要推送的消息直接发送到对应的用户连接中。当用户断开连接之后，服务器暂停发送消息，并存储用户的消息，当用户再次连接时，服务器再向该用户推送消息。

我认为要实现这样的点赞推送功能有以下几点需要注意：
1、要保证点赞记录的准确性和完整性，例如同一个用户不能重复点赞同一个内容，点赞记录需要有唯一的ID 等。（此处应该由点赞微服务进行确认）
2、要保证推送消息的可靠性，例如消息队列需要支持持久化存储，避免消息丢失
3、服务熔断：因为显然用户推送微服务依赖于点赞微服务，而点赞微服务可能暂时不可用。例如：点赞微服务宕机或者负载过重，不同的错误类型处理方式也不同，例如宕机时，应该采用快速失败的方式，而对于负载过重的情况，可以采用类似于TCP的拥塞控制策略，以指数方式迭代下一次通信请求的时间。

### 字节跳动AI Lab数据中台二面(pass)
1、如何使用MyISAM引擎(建表时指定engine为MyISAM)

2、Linux下如何查找CPU占用率最高的进程(top指令)

3、编程题：实现带有TTL的LRUCache（太简单了）

### 阿里云笔试编程题
1、找满二叉子树的数目：一棵树为满二叉树的定义是：当前树每一层都无法再新增任何节点

输入：第一行为N，接下来N行，每行两个数，代表编号为i的节点的左右节点（-1代表无）

输出：当前树中为满二叉子树的数目（树自身也是自身的子树）

2、三元组：给定N个数，对于0<=i<j<k<N的三元组使得$max(a_i,a_j,a_k)-min(a_i,a_j,a_k)=1$，称其为有效三元组，找到N个数中有效三元组的数目。

输入：第一行为N，接下来第二行为N个数

输出：满足条件的三元组数目

3、乘二除二：给定N个数字和K，K代表一定要执行K次操作，我们从N个数中选择K个，对每个选中的数，要么*2,要么/2，满足最后数组的极差最小（极差定义为：数组最大值-数组最小值）

输入：第一行为N和K，第二行为N个数。